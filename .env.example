# ============================================================================
# INFLATION MARKET PROTOCOL - ENVIRONMENT CONFIGURATION
# ============================================================================
#
# This file contains all configuration needed for the Inflation Market protocol.
# Copy this file to .env and fill in your actual values.
#
# SECURITY WARNING: Never commit .env files with real keys to version control!
#
# Environment Types:
# - LOCAL: For local Hardhat development
# - TESTNET: For Arbitrum Sepolia deployment
# - MAINNET: For Arbitrum production deployment
#
# ============================================================================

# ============================================================================
# CURRENT ENVIRONMENT
# ============================================================================

# Set your current environment: local, testnet, or mainnet
NODE_ENV=development
DEPLOYMENT_NETWORK=localhost

# Enable verbose logging
VERBOSE=true
DEBUG=true

# ============================================================================
# LOCAL DEVELOPMENT CONFIGURATION
# ============================================================================

# Local Hardhat Network
LOCALHOST_RPC_URL=http://127.0.0.1:8545

# Test mnemonic (DO NOT use in production!)
MNEMONIC="test test test test test test test test test test test junk"

# Test private key (DO NOT use in production!)
LOCAL_PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

# Local test wallets (Hardhat default accounts)
TEST_WALLET_1=0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
TEST_WALLET_2=0x70997970C51812dc3A010C7d01b50e0d17dc79C8
TEST_WALLET_3=0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC

# Local testing configuration
ENABLE_GAS_REPORTER=false
ENABLE_COVERAGE=false
REPORT_GAS=false

# Hardhat network mining
MINING_INTERVAL=1000                   # Auto-mine every 1 second

# ============================================================================
# TESTNET CONFIGURATION (Arbitrum Sepolia)
# ============================================================================

# Testnet RPC Endpoints
ARBITRUM_SEPOLIA_RPC_URL=https://sepolia-rollup.arbitrum.io/rpc
ARBITRUM_GOERLI_RPC_URL=https://goerli-rollup.arbitrum.io/rpc

# Testnet Deployer Wallet
# IMPORTANT: Use a dedicated testnet wallet, NOT your mainnet wallet!
TESTNET_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000
TESTNET_DEPLOYER_ADDRESS=0x0000000000000000000000000000000000000000

# Testnet Token Addresses
USDC_ADDRESS_ARBITRUM_SEPOLIA=0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d

# Testnet Chainlink Oracle Feeds
CHAINLINK_CPI_FEED_TESTNET=0x0000000000000000000000000000000000000000
CHAINLINK_TREASURY_FEED_TESTNET=0x0000000000000000000000000000000000000000

# Testnet Deployed Contracts (fill after deployment)
VAULT_ADDRESS_TESTNET=
POSITION_MANAGER_ADDRESS_TESTNET=
INDEX_ORACLE_ADDRESS_TESTNET=
FUNDING_CALCULATOR_ADDRESS_TESTNET=
LIQUIDATOR_ADDRESS_TESTNET=
VAMM_ADDRESS_TESTNET=

# Testnet Admin Addresses
TESTNET_FEE_RECIPIENT=0x0000000000000000000000000000000000000000
TESTNET_MULTISIG=0x0000000000000000000000000000000000000000

# Testnet Protocol Parameters (more aggressive for testing)
TESTNET_MAX_LEVERAGE=20                # 20x for testing
TESTNET_TRADING_FEE_RATE=10            # 0.1%
TESTNET_MAINTENANCE_MARGIN=500         # 5%
TESTNET_FUNDING_INTERVAL=3600          # 1 hour

# Testnet Deployment Settings
TESTNET_AUTO_VERIFY=true
TESTNET_GAS_PRICE=0.1                  # Arbitrum is cheap

# ============================================================================
# MAINNET CONFIGURATION (Arbitrum One)
# ============================================================================

# Mainnet RPC Endpoints (use premium endpoints for production)
ARBITRUM_MAINNET_RPC_URL=https://arb1.arbitrum.io/rpc
ETHEREUM_MAINNET_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY

# Mainnet Deployer Wallet
# CRITICAL: Use hardware wallet or secure key management!
MAINNET_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000000
MAINNET_DEPLOYER_ADDRESS=0x0000000000000000000000000000000000000000

# Mainnet Token Addresses
USDC_ADDRESS_ARBITRUM=0xaf88d065e77c8cC2239327C5EDb3A432268e5831

# Mainnet Chainlink Oracle Feeds
CHAINLINK_CPI_FEED_MAINNET=0x0000000000000000000000000000000000000000
CHAINLINK_TREASURY_FEED_MAINNET=0x0000000000000000000000000000000000000000
CHAINLINK_AUTOMATION_REGISTRY=0x0000000000000000000000000000000000000000

# Mainnet Deployed Contracts (fill after deployment)
VAULT_ADDRESS_MAINNET=
POSITION_MANAGER_ADDRESS_MAINNET=
INDEX_ORACLE_ADDRESS_MAINNET=
FUNDING_CALCULATOR_ADDRESS_MAINNET=
LIQUIDATOR_ADDRESS_MAINNET=
VAMM_ADDRESS_MAINNET=

# Mainnet Governance & Admin (USE MULTI-SIG!)
MAINNET_MULTISIG_ADDRESS=0x0000000000000000000000000000000000000000
MAINNET_FEE_RECIPIENT_ADDRESS=0x0000000000000000000000000000000000000000
MAINNET_INSURANCE_FUND_ADDRESS=0x0000000000000000000000000000000000000000

# Mainnet Protocol Parameters (conservative for production)
MAINNET_MAX_LEVERAGE=10                # 10x conservative
MAINNET_TRADING_FEE_RATE=10            # 0.1% = 10 basis points
MAINNET_LIQUIDATION_FEE=100            # 1% = 100 basis points
MAINNET_LIQUIDATOR_REWARD=50           # 0.5% = 50 basis points
MAINNET_MAINTENANCE_MARGIN=500         # 5% = 500 basis points

# Mainnet Funding Rate Parameters
MAINNET_FUNDING_RATE_COEFFICIENT=10    # 0.01%
MAINNET_MAX_FUNDING_RATE=500           # 5%
MAINNET_MIN_FUNDING_RATE=-500          # -5%
MAINNET_FUNDING_INTERVAL=3600          # 1 hour

# Mainnet Oracle Parameters
MAINNET_ORACLE_UPDATE_INTERVAL=3600    # 1 hour
MAINNET_MAX_PRICE_DEVIATION=500        # 5%

# Mainnet vAMM Parameters
MAINNET_VAMM_BASE_RESERVE=1000000      # 1M
MAINNET_VAMM_QUOTE_RESERVE=100000000   # 100M
MAINNET_MAX_PRICE_IMPACT=500           # 5%

# Mainnet Governance
MAINNET_GOVERNANCE_TIMELOCK=172800     # 48 hours

# Mainnet Deployment Settings
MAINNET_AUTO_VERIFY=true
MAINNET_GAS_PRICE=0.1
MAINNET_MAX_FEE_PER_GAS=1
MAINNET_MAX_PRIORITY_FEE_PER_GAS=0.1

# ============================================================================
# API KEYS & EXTERNAL SERVICES (shared across environments)
# ============================================================================

# RPC Provider API Keys
# Sign up: https://www.alchemy.com/
ALCHEMY_API_KEY=YOUR_ALCHEMY_API_KEY

# Sign up: https://www.infura.io/
INFURA_API_KEY=YOUR_INFURA_API_KEY

# Block Explorer API Keys (for contract verification)
# Sign up: https://arbiscan.io/myapikey
ARBISCAN_API_KEY=YOUR_ARBISCAN_API_KEY_HERE

# Sign up: https://etherscan.io/myapikey
ETHERSCAN_API_KEY=YOUR_ETHERSCAN_API_KEY_HERE

# Gas Cost Estimation
# Sign up: https://coinmarketcap.com/api/
COINMARKETCAP_API_KEY=your-coinmarketcap-api-key

# ============================================================================
# MONITORING & SECURITY (production/staging only)
# ============================================================================

# Tenderly (debugging & monitoring)
# Sign up: https://tenderly.co/
TENDERLY_PROJECT_ID=your-project-id
TENDERLY_USERNAME=your-username
TENDERLY_ACCESS_KEY=your-access-key

# OpenZeppelin Defender (automated operations & security)
# Sign up: https://defender.openzeppelin.com/
DEFENDER_API_KEY=your-defender-api-key
DEFENDER_API_SECRET=your-defender-secret

# Sentry (error tracking)
# Sign up: https://sentry.io/
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ============================================================================
# ALERTS & NOTIFICATIONS
# ============================================================================

# Slack webhook for deployment notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Discord webhook for alerts
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/WEBHOOK

# ============================================================================
# FRONTEND & API INTEGRATION
# ============================================================================

# Frontend URLs (environment-specific)
LOCAL_FRONTEND_URL=http://localhost:3000
TESTNET_FRONTEND_URL=https://test.inflationmarket.com
MAINNET_FRONTEND_URL=https://inflationmarket.com

# API Endpoints (environment-specific)
LOCAL_API_URL=http://localhost:4000
TESTNET_API_URL=https://api-test.inflationmarket.com
MAINNET_API_URL=https://api.inflationmarket.com

# Subgraph URLs
TESTNET_SUBGRAPH_URL=https://api.thegraph.com/subgraphs/name/inflationmarket/arbitrum-sepolia
MAINNET_SUBGRAPH_URL=https://api.thegraph.com/subgraphs/name/inflationmarket/arbitrum

# ============================================================================
# TESTING & CI/CD
# ============================================================================

# Fork Testing Configuration
ENABLE_FORK_TESTING=false
FORK_BLOCK_NUMBER=150000000            # Specific block to fork from
FORK_CHAIN_ID=42161                    # Arbitrum mainnet

# Coverage & Gas Reporting
ENABLE_COVERAGE=false
ENABLE_GAS_REPORTER=false

# ============================================================================
# ADVANCED COMPILER SETTINGS
# ============================================================================

# Solidity Compiler
SOLIDITY_VERSION=0.8.20
OPTIMIZER_RUNS=200
CONTRACT_SIZE_LIMIT=24576              # 24KB in bytes

# ============================================================================
# CHAINLINK NODE (optional - for custom oracle)
# ============================================================================

# Only needed if running your own Chainlink node
CHAINLINK_NODE_URL=https://your-chainlink-node.com
CHAINLINK_API_EMAIL=your-email@example.com
CHAINLINK_API_PASSWORD=your-password

# ============================================================================
# USAGE EXAMPLES
# ============================================================================
#
# LOCAL DEVELOPMENT:
# ------------------
# NODE_ENV=development
# DEPLOYMENT_NETWORK=localhost
# (Uses LOCALHOST_RPC_URL and test accounts)
#
# TESTNET DEPLOYMENT:
# -------------------
# NODE_ENV=staging
# DEPLOYMENT_NETWORK=arbitrum-sepolia
# (Uses ARBITRUM_SEPOLIA_RPC_URL and TESTNET_PRIVATE_KEY)
#
# MAINNET DEPLOYMENT:
# -------------------
# NODE_ENV=production
# DEPLOYMENT_NETWORK=arbitrum-mainnet
# (Uses ARBITRUM_MAINNET_RPC_URL and MAINNET_PRIVATE_KEY)
#
# ============================================================================
